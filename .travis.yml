# test of travis ci for comblayer
language: cpp
matrix:
   include:
   # linux - clang 7.0
     - os: linux
       addons:
         apt:
           sources:
             - ubuntu-toolchain-r-test
             - llvm-toolchain-trusty-7.0
             - george-edison55-precise-backports
           packages:
             - clang-7.0
             - cmake
             - cmake-data
             - libgsl0-dev
             - libboost-dev
             - libboost-regex-dev
             - libboost-filesystem-dev
       env:
          - MATRIX_EVAL="CC=clang-7 && CXX=clang++-7"
before_install:
  - eval "${MATRIX_EVAL}"
  - cmake -version
  - echo $CC
  - echo $CXX
script:
  - ./CMake.pl -O -g++=$CXX
  - cmake ./
  - make -j6
  # unit test
  # - ./testMain -1 -1 -1
  # model quick tests
  # - ./fullBuild -r fb_test
  # - ./ess -r ess_test
  # - ./bilbau -r bb_test
  # - ./sns -r sns_test
  # - ./reactor -r reactor_test
  # - ./muBeam -r mu_test
  # - ./pipe -r pipe_test
  # - ./maxiv --defaultConfig Single BALDER balder_test
  # - ./singleItem -r single_test
  # - ./t1MarkII -r t1_test1
  # - ./t1Real -r t1_test2
  # # model valid check
  # - ./fullBuild -r -validCheck 100000 fb_vtest
  # - ./maxiv --defaultConfig Single BALDER -validCheck 100000 ba_vtest
  # - ./testMain -1 -1 -1
  - ./maxiv -r -defaultConfig LINAC All a
